(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["me"],{"0a99":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",[n("v-row",{attrs:{justify:"center"}},[t.isLoggedIn?[n("v-col",t._b({},"v-col",t.defaultGridSize,!1),[n("user-info",t._b({on:{refresh:t.refreshMyInfo,edit:t.editMyInfo,share:t.shareMyInfo}},"user-info",Object.assign({},t.me,{refreshable:t.refreshable,editable:!0,sharable:!0}),!1))],1),n("v-col",t._b({},"v-col",t.defaultGridSize,!1),[n("logout-btn",{attrs:{"btn-props":{block:!0,color:"error"}},on:{click:t.logout}},[t._v(t._s(t.$t("logout")))])],1)]:[n("v-col",t._b({},"v-col",t.defaultGridSize,!1),[n("v-btn",{attrs:{color:"success",block:"",to:"login"}},[t._v(t._s(t.$t("login")))])],1)]],2)],1)},r=[],i=(n("df26"),n("42c2")),o=n("dac60"),l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-dialog",{attrs:{"max-width":"500"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[n("v-btn",t._g(t._b({},"v-btn",t.btnProps?Object.assign({},t.btnProps):{icon:!0,ripple:!0},!1),a),[t._t("default",[n("v-icon",{attrs:{color:"grey lighten-1"}},[t._v("mdi-information-variant")])])],2)]}}],null,!0),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[n("v-card",[n("v-card-title",{staticClass:"headline"},[t._v(" "+t._s(t.$t("askConfirmLogout"))+" ")]),n("v-card-text",[t._v(" "+t._s(t.$t("askConfirmLogoutTip"))+" ")]),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"warning",text:""},on:{click:t.logout}},[t._v(" "+t._s(t.$t("logout"))+" ")]),n("v-btn",{attrs:{color:"success",text:""},on:{click:function(e){t.dialog=!1}}},[t._v(" "+t._s(t.$t("cancel"))+" ")])],1)],1)],1)},s=[],c=n("0613"),u={props:{btnProps:Object},data:function(){return{dialog:!1}},methods:{logout:function(){c["default"].dispatch.user.logout(),this.dialog=!1}}},d=u,f=n("2be6"),v=n("16aa"),m=n.n(v),b=n("7265"),p=n("8467"),h=n("05d9"),g=n("3ee1"),_=n("213b"),y=n("7b27"),x=Object(f["a"])(d,l,s,!1,null,null,null),k=x.exports;m()(x,{VBtn:b["a"],VCard:p["a"],VCardActions:h["a"],VCardText:h["c"],VCardTitle:h["d"],VDialog:g["a"],VIcon:_["a"],VSpacer:y["a"]});var w={components:{UserInfo:o["a"],LogoutBtn:k},data:function(){return{defaultGridSize:{cols:12,sm:9,md:6,xl:4},refreshable:!0}},computed:{me:function(){var t=c["default"].getters.user.me;return t},isLoggedIn:function(){return!!this.me}},methods:{refreshMyInfo:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.refreshable="loading",e.next=4,c["default"].dispatch.user.queryMe();case 4:return e.prev=4,t.refreshable=!0,e.finish(4);case 7:case"end":return e.stop()}}),e,null,[[0,,4,7]])})))()},logout:function(){c["default"].dispatch.user.logout()},editMyInfo:function(){this.$alertWarning("edit not implemented")},shareMyInfo:function(){this.$alertWarning("share not implemented")}},created:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.me){e.next=3;break}return e.next=3,t.refreshMyInfo();case 3:case"end":return e.stop()}}),e)})))()}},V=w,$=n("8a29"),C=n("39d5"),I=n("1bc2"),S=Object(f["a"])(V,a,r,!1,null,null,null);e["default"]=S.exports;m()(S,{VBtn:b["a"],VCol:$["a"],VContainer:C["a"],VRow:I["a"]})},c783:function(t,e,n){"use strict";var a=n("d2b8"),r=n("e9b3"),i=n("2be6"),o=n("16aa"),l=n.n(o),s=n("7265"),c=n("8467"),u=n("05d9"),d=n("3ee1"),f=n("e37c"),v=n("213b"),m=n("7b27"),b=n("2370"),p=Object(i["a"])(r["default"],a["a"],a["b"],!1,null,null,null);e["default"]=p.exports,l()(p,{VBtn:s["a"],VCard:c["a"],VCardActions:u["a"],VCardText:u["c"],VCardTitle:u["d"],VDialog:d["a"],VForm:f["a"],VIcon:v["a"],VSpacer:m["a"],VTextField:b["a"]})},ce5d:function(t,e,n){"use strict";n("d6de"),n("8d0f"),n("68b8"),n("868d"),n("ef1f"),n("f3b8"),n("918c");var a=this&&this.__awaiter||function(t,e,n,a){function r(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,i){function o(t){try{s(a.next(t))}catch(e){i(e)}}function l(t){try{s(a["throw"](t))}catch(e){i(e)}}function s(t){t.done?n(t.value):r(t.value).then(o,l)}s((a=a.apply(t,e||[])).next())}))},r=this&&this.__generator||function(t,e){var n,a,r,i,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");while(o)try{if(n=1,a&&(r=2&i[0]?a["return"]:i[0]?a["throw"]||((r=a["return"])&&r.call(a),0):a.next)&&!(r=r.call(a,i[1])).done)return r;switch(a=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,a=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(r=o.trys,!(r=r.length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){o.label=i[1];break}if(6===i[0]&&o.label<r[1]){o.label=r[1],r=i;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(i);break}r[2]&&o.ops.pop(),o.trys.pop();continue}i=e.call(t,o)}catch(l){i=[6,l],a=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(e,"__esModule",{value:!0});var i=n("9869"),o=n("caa0"),l=n("85ee");e.default=i.default.extend({props:{me:{type:Object,required:!0}},data:function(){return{dialog:!1,fields:["name"],info:{name:{value:this.me.name,valid:!1,loading:!1}}}},computed:{props:function(){return{name:{rules:o.userNameRules,label:this.$t("user.name"),counter:l.USER_NAME_LEN_MAX,autocomplete:"nickname"}}}},methods:{isModified:function(t){return this.me[t]!==this.info[t].value},modifyField:function(t){return a(this,void 0,Promise,(function(){var e;return r(this,(function(n){switch(n.label){case 0:e=this.info[t],e.loading=!0,n.label=1;case 1:return n.trys.push([1,,3,4]),[4,this.$store.direct.dispatch.user.modifyMe({name:e.value})];case 2:return n.sent(),[3,4];case 3:return e.loading=!1,[7];case 4:return[2]}}))}))},resetField:function(t){this.info[t].value=this.me[t]}}})},d2b8:function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return r}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-dialog",{attrs:{persistent:"","max-width":"600px"},scopedSlots:t._u([{key:"activator",fn:function(e){return[t._t("default",null,null,e)]}}],null,!0),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[t.me?n("v-card",[n("v-card-title",[n("span",{staticClass:"headline"},[t._v(t._s(t.me.name))])]),n("v-card-text",t._l(t.fields,(function(e){return n("v-form",{key:e,model:{value:t.info[e].valid,callback:function(n){t.$set(t.info[e],"valid",n)},expression:"info[field].valid"}},[n("v-text-field",t._b({scopedSlots:t._u([t.isModified(e)?{key:"append-outer",fn:function(){return[n("v-btn",{attrs:{loading:t.info[e].loading,color:"success",outlined:""},on:{click:function(n){return t.modifyField(e)}}},[t._v(" "+t._s(t.$t("confirmModify"))+" "),n("v-icon",{attrs:{right:"",small:""}},[t._v("mdi-check")])],1),n("v-btn",{attrs:{text:""},on:{click:function(n){return t.resetField(e)}}},[t._v(" "+t._s(t.$t("cancel"))+" "),n("v-icon",{attrs:{right:"",small:""}},[t._v("mdi-close")])],1)]},proxy:!0}:null],null,!0),model:{value:t.info[e].value,callback:function(n){t.$set(t.info[e],"value",n)},expression:"info[field].value"}},"v-text-field",t.props[e],!1))],1)})),1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{text:""},on:{click:function(e){t.dialog=!1}}},[t._v(t._s(t.$t("cancel")))])],1)],1):n("v-card",{attrs:{loading:""}})],1)},r=[]},dac60:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{attrs:{loading:"loading"===t.refreshable}},[n("div",{staticClass:"d-flex flex-column primary",style:{background:t.normProfileBg}},[n("v-card-title",[n("v-spacer"),t.refreshable?n("v-btn",{attrs:{dark:"",icon:"",loading:"loading"===t.refreshable,disabled:"disabled"===t.refreshable||"loading"===t.refreshable},on:{click:function(e){return t.$emit("refresh")}}},[n("v-icon",[t._v("mdi-refresh")])],1):t._e(),t.editable?n("info-edit-dialog",{attrs:{me:t.userInfo},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.on,r=e.attrs;return[n("v-btn",t._g(t._b({attrs:{dark:"",icon:""}},"v-btn",r,!1),a),[n("v-icon",[t._v("mdi-pencil")])],1)]}}],null,!1,2645250872)}):t._e(),t.sharable?n("v-btn",{attrs:{dark:"",icon:""}},[n("v-icon",[t._v("mdi-share-variant")])],1):t._e()],1),t.normAvatarBg?n("v-avatar",{staticClass:"elevation-2 mx-auto",style:{background:t.normAvatarBg},attrs:{size:"120"}}):t._e(),n("v-spacer"),n("v-card-title",{staticClass:"white--text",attrs:{"primary-title":""}},[n("div",{staticClass:"display-1 mx-auto"},[t._v(t._s(t.name))])])],1),n("v-list",[n("v-list-item",{attrs:{"two-line":""}},[n("v-list-item-avatar",[n("v-icon",{attrs:{color:"accent"}},[t._v("mdi-account-outline")])],1),n("v-list-item-content",[n("v-list-item-title",[t._v(t._s(t.login))]),n("v-list-item-subtitle",[t._v(t._s(t.$t("user.login")))])],1)],1),n("v-list-item",{attrs:{"two-line":""}},[n("v-list-item-avatar",[n("v-icon",{attrs:{color:"accent"}},[t._v("mdi-account-box-outline")])],1),n("v-list-item-content",[n("v-list-item-title",[t._v(t._s(t.name))]),n("v-list-item-subtitle",[t._v(t._s(t.$t("user.name")))])],1)],1),n("v-divider",{attrs:{inset:""}}),n("v-list-item",{attrs:{"two-line":""}},[n("v-list-item-avatar",[n("v-icon",{attrs:{color:"accent"}},[t._v("mdi-calendar-range")])],1),n("v-list-item-content",[n("v-list-item-title",[t._v(t._s(t.createTimeDisplay))]),n("v-list-item-subtitle",[t._v(t._s(t.$t("createTime")))])],1)],1)],1)],1)},r=[],i=(n("2d6d"),n("868d"),n("c783"));function o(t){return t=t&&t.filter(Boolean),t&&t.length>0?t:void 0}var l={components:{InfoEditDialog:i["default"]},props:{id:String,createTime:String,login:String,name:String,profileBg:Array,avatarBg:Array,editable:{type:Boolean,default:!1},sharable:{type:Boolean,default:!1},refreshable:{type:[Boolean,String],default:!0}},computed:{createTimeDisplay:function(){return this.createTime&&new Date(this.createTime).toLocaleString()},normAvatarBg:function(){return o(this.avatarBg)},normProfileBg:function(){return o(this.profileBg)},userInfo:function(){return{id:this.id,login:this.login,name:this.name}}}},s=l,c=n("2be6"),u=n("16aa"),d=n.n(u),f=n("c123"),v=n("7265"),m=n("8467"),b=n("05d9"),p=n("29d0"),h=n("213b"),g=n("a5fe"),_=n("ecef"),y=n("e8a3"),x=n("d963"),k=n("7b27"),w=Object(c["a"])(s,a,r,!1,null,null,null);e["a"]=w.exports;d()(w,{VAvatar:f["a"],VBtn:v["a"],VCard:m["a"],VCardTitle:b["d"],VDivider:p["a"],VIcon:h["a"],VList:g["a"],VListItem:_["a"],VListItemAvatar:y["a"],VListItemContent:x["a"],VListItemSubtitle:x["b"],VListItemTitle:x["c"],VSpacer:k["a"]})},e9b3:function(t,e,n){"use strict";var a=n("ce5d"),r=n.n(a);e["default"]=r.a}}]);