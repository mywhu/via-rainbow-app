(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["user"],{1511:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-row",{attrs:{justify:"center"}},[n("v-col",[n("user-info",e._b({on:{refresh:e.refresh}},"user-info",Object.assign({},e.userInfo,{editable:!1,sharable:!1,refreshable:e.refreshable}),!1))],1)],1)],1)},r=[],i=(n("df26"),n("42c2")),o=n("dac60"),l=n("0613"),s={components:{UserInfo:o["a"]},props:{userId:String},data:function(){return{refreshable:!0,dataState:!0}},computed:{userInfo:function(){return l["default"].getters.user.getUserInfo(this.userId)}},methods:{refresh:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.refreshable="loading",t.next=4,l["default"].dispatch.user.queryUserInfo(e.userId);case 4:return t.prev=4,e.refreshable=!0,t.finish(4);case 7:case"end":return t.stop()}}),t,null,[[0,,4,7]])})))()}},created:function(){this.refresh()},watch:{userId:function(){this.refresh()}}},c=s,u=n("2be6"),d=n("16aa"),f=n.n(d),v=n("8a29"),m=n("39d5"),h=n("1bc2"),b=Object(u["a"])(c,a,r,!1,null,null,null);t["default"]=b.exports;f()(b,{VCol:v["a"],VContainer:m["a"],VRow:h["a"]})},c783:function(e,t,n){"use strict";var a=n("d2b8"),r=n("e9b3"),i=n("2be6"),o=n("16aa"),l=n.n(o),s=n("7265"),c=n("8467"),u=n("05d9"),d=n("3ee1"),f=n("e37c"),v=n("213b"),m=n("7b27"),h=n("2370"),b=Object(i["a"])(r["default"],a["a"],a["b"],!1,null,null,null);t["default"]=b.exports,l()(b,{VBtn:s["a"],VCard:c["a"],VCardActions:u["a"],VCardText:u["c"],VCardTitle:u["d"],VDialog:d["a"],VForm:f["a"],VIcon:v["a"],VSpacer:m["a"],VTextField:h["a"]})},ce5d:function(e,t,n){"use strict";n("d6de"),n("8d0f"),n("68b8"),n("868d"),n("ef1f"),n("f3b8"),n("918c");var a=this&&this.__awaiter||function(e,t,n,a){function r(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,i){function o(e){try{s(a.next(e))}catch(t){i(t)}}function l(e){try{s(a["throw"](e))}catch(t){i(t)}}function s(e){e.done?n(e.value):r(e.value).then(o,l)}s((a=a.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var n,a,r,i,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(e){return function(t){return s([e,t])}}function s(i){if(n)throw new TypeError("Generator is already executing.");while(o)try{if(n=1,a&&(r=2&i[0]?a["return"]:i[0]?a["throw"]||((r=a["return"])&&r.call(a),0):a.next)&&!(r=r.call(a,i[1])).done)return r;switch(a=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,a=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(r=o.trys,!(r=r.length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){o.label=i[1];break}if(6===i[0]&&o.label<r[1]){o.label=r[1],r=i;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(i);break}r[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(l){i=[6,l],a=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(t,"__esModule",{value:!0});var i=n("9869"),o=n("caa0"),l=n("85ee");t.default=i.default.extend({props:{me:{type:Object,required:!0}},data:function(){return{dialog:!1,fields:["name"],info:{name:{value:this.me.name,valid:!1,loading:!1}}}},computed:{props:function(){return{name:{rules:o.userNameRules,label:this.$t("user.name"),counter:l.USER_NAME_LEN_MAX,autocomplete:"nickname"}}}},methods:{isModified:function(e){return this.me[e]!==this.info[e].value},modifyField:function(e){return a(this,void 0,Promise,(function(){var t;return r(this,(function(n){switch(n.label){case 0:t=this.info[e],t.loading=!0,n.label=1;case 1:return n.trys.push([1,,3,4]),[4,this.$store.direct.dispatch.user.modifyMe({name:t.value})];case 2:return n.sent(),[3,4];case 3:return t.loading=!1,[7];case 4:return[2]}}))}))},resetField:function(e){this.info[e].value=this.me[e]}}})},d2b8:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r}));var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{persistent:"","max-width":"600px"},scopedSlots:e._u([{key:"activator",fn:function(t){return[e._t("default",null,null,t)]}}],null,!0),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[e.me?n("v-card",[n("v-card-title",[n("span",{staticClass:"headline"},[e._v(e._s(e.me.name))])]),n("v-card-text",e._l(e.fields,(function(t){return n("v-form",{key:t,model:{value:e.info[t].valid,callback:function(n){e.$set(e.info[t],"valid",n)},expression:"info[field].valid"}},[n("v-text-field",e._b({scopedSlots:e._u([e.isModified(t)?{key:"append-outer",fn:function(){return[n("v-btn",{attrs:{loading:e.info[t].loading,color:"success",outlined:""},on:{click:function(n){return e.modifyField(t)}}},[e._v(" "+e._s(e.$t("confirmModify"))+" "),n("v-icon",{attrs:{right:"",small:""}},[e._v("mdi-check")])],1),n("v-btn",{attrs:{text:""},on:{click:function(n){return e.resetField(t)}}},[e._v(" "+e._s(e.$t("cancel"))+" "),n("v-icon",{attrs:{right:"",small:""}},[e._v("mdi-close")])],1)]},proxy:!0}:null],null,!0),model:{value:e.info[t].value,callback:function(n){e.$set(e.info[t],"value",n)},expression:"info[field].value"}},"v-text-field",e.props[t],!1))],1)})),1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{text:""},on:{click:function(t){e.dialog=!1}}},[e._v(e._s(e.$t("cancel")))])],1)],1):n("v-card",{attrs:{loading:""}})],1)},r=[]},dac60:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{attrs:{loading:"loading"===e.refreshable}},[n("div",{staticClass:"d-flex flex-column primary",style:{background:e.normProfileBg}},[n("v-card-title",[n("v-spacer"),e.refreshable?n("v-btn",{attrs:{dark:"",icon:"",loading:"loading"===e.refreshable,disabled:"disabled"===e.refreshable||"loading"===e.refreshable},on:{click:function(t){return e.$emit("refresh")}}},[n("v-icon",[e._v("mdi-refresh")])],1):e._e(),e.editable?n("info-edit-dialog",{attrs:{me:e.userInfo},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.on,r=t.attrs;return[n("v-btn",e._g(e._b({attrs:{dark:"",icon:""}},"v-btn",r,!1),a),[n("v-icon",[e._v("mdi-pencil")])],1)]}}],null,!1,2645250872)}):e._e(),e.sharable?n("v-btn",{attrs:{dark:"",icon:""}},[n("v-icon",[e._v("mdi-share-variant")])],1):e._e()],1),e.normAvatarBg?n("v-avatar",{staticClass:"elevation-2 mx-auto",style:{background:e.normAvatarBg},attrs:{size:"120"}}):e._e(),n("v-spacer"),n("v-card-title",{staticClass:"white--text",attrs:{"primary-title":""}},[n("div",{staticClass:"display-1 mx-auto"},[e._v(e._s(e.name))])])],1),n("v-list",[n("v-list-item",{attrs:{"two-line":""}},[n("v-list-item-avatar",[n("v-icon",{attrs:{color:"accent"}},[e._v("mdi-account-outline")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v(e._s(e.login))]),n("v-list-item-subtitle",[e._v(e._s(e.$t("user.login")))])],1)],1),n("v-list-item",{attrs:{"two-line":""}},[n("v-list-item-avatar",[n("v-icon",{attrs:{color:"accent"}},[e._v("mdi-account-box-outline")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v(e._s(e.name))]),n("v-list-item-subtitle",[e._v(e._s(e.$t("user.name")))])],1)],1),n("v-divider",{attrs:{inset:""}}),n("v-list-item",{attrs:{"two-line":""}},[n("v-list-item-avatar",[n("v-icon",{attrs:{color:"accent"}},[e._v("mdi-calendar-range")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v(e._s(e.createTimeDisplay))]),n("v-list-item-subtitle",[e._v(e._s(e.$t("createTime")))])],1)],1)],1)],1)},r=[],i=(n("2d6d"),n("868d"),n("c783"));function o(e){return e=e&&e.filter(Boolean),e&&e.length>0?e:void 0}var l={components:{InfoEditDialog:i["default"]},props:{id:String,createTime:String,login:String,name:String,profileBg:Array,avatarBg:Array,editable:{type:Boolean,default:!1},sharable:{type:Boolean,default:!1},refreshable:{type:[Boolean,String],default:!0}},computed:{createTimeDisplay:function(){return this.createTime&&new Date(this.createTime).toLocaleString()},normAvatarBg:function(){return o(this.avatarBg)},normProfileBg:function(){return o(this.profileBg)},userInfo:function(){return{id:this.id,login:this.login,name:this.name}}}},s=l,c=n("2be6"),u=n("16aa"),d=n.n(u),f=n("c123"),v=n("7265"),m=n("8467"),h=n("05d9"),b=n("29d0"),p=n("213b"),g=n("a5fe"),_=n("ecef"),y=n("e8a3"),w=n("d963"),x=n("7b27"),V=Object(c["a"])(s,a,r,!1,null,null,null);t["a"]=V.exports;d()(V,{VAvatar:f["a"],VBtn:v["a"],VCard:m["a"],VCardTitle:h["d"],VDivider:b["a"],VIcon:p["a"],VList:g["a"],VListItem:_["a"],VListItemAvatar:y["a"],VListItemContent:w["a"],VListItemSubtitle:w["b"],VListItemTitle:w["c"],VSpacer:x["a"]})},e9b3:function(e,t,n){"use strict";var a=n("ce5d"),r=n.n(a);t["default"]=r.a}}]);