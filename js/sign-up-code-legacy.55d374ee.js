(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["sign-up-code"],{"2c8d":function(e,t,r){"use strict";var n=r("c8e7"),a=r.n(n);a.a},"2d96":function(e,t,r){},c741:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[r("v-slide-x-transition",{attrs:{name:"list",group:"","leave-absolute":"","hide-on-leave":"",tag:"v-row"}},[e._l(e.myCodes,(function(t){return r("v-col",{key:t.code,attrs:{cols:"12",sm:"6",md:"4",lg:"3",xl:"2"}},[r("sign-up-code-display",e._b({attrs:{id:t.code},on:{revoke:function(r){return e.revoke(t)},share:function(r){return e.share(t)},"need-refresh":function(r){return e.refresh(t)},"need-refresh-to":function(r){return e.refreshTo(t)},"check-to-user":function(r){return e.checkToUser(t)}}},"sign-up-code-display",t,!1))],1)})),e.addable?r("v-col",{key:"fab-placeholder",attrs:{cols:"2"}},[r("div",{staticClass:"fab-placeholder"})]):e._e()],2),r("v-dialog",{attrs:{"max-width":"400"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[r("v-btn",e._g({attrs:{fixed:"",dark:"",fab:"",bottom:"",right:"",color:"pink",loading:"loading"===e.addable||e.dialog,disabled:"disabled"===e.addable||e.dialog}},n),[r("v-icon",[e._v("mdi-plus")])],1)]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[r("v-card",[r("v-card-title"),r("v-card-text",[e._v(e._s(e.$t("signUpCodeAction.confirm.generate")))]),r("v-divider"),r("v-card-actions",[r("v-btn",{attrs:{text:""},on:{click:function(t){e.dialog=!1}}},[e._v(e._s(e.$t("cancel")))]),r("v-spacer"),r("v-btn",{attrs:{color:"primary",dark:"",text:""},on:{click:e.add}},[e._v(" "+e._s(e.$t("confirm"))+" ")])],1)],1)],1)],1)},a=[],o=(r("cfce"),r("0b38")),i=(r("df26"),r("42c2")),c=r("9869"),s=r("0613"),d=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",[r("v-card-title",{staticClass:"headline"},[r("router-link",{staticClass:"code-link",attrs:{to:"#"+e.code,"active-class":"accent--text"}},[e._v("#")]),e._v(" "+e._s(e.code)+" ")],1),r("v-card-subtitle",[e._v(e._s(e.$t("signUpCodeStatus."+e.status,{name:e.toUserName})))]),r("v-card-actions",[e.unused?[r("v-btn",{attrs:{color:"info"},on:{click:function(t){return e.$emit("share")}}},[e._v(" "+e._s(e.$t("share"))+" "),r("v-icon",{attrs:{right:""}},[e._v("mdi-share")])],1),r("v-spacer"),r("v-dialog",{attrs:{"max-width":"400"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[r("v-btn",e._g({attrs:{text:"",color:"error"}},n),[e._v(e._s(e.$t("revoke")))])]}}],null,!1,1950506729),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[r("v-card",[r("v-card-title"),r("v-card-text",[e._v(e._s(e.$t("signUpCodeAction.confirm.revoke",{code:e.code})))]),r("v-divider"),r("v-card-actions",[r("v-btn",{attrs:{text:""},on:{click:function(t){e.dialog=!1}}},[e._v(e._s(e.$t("cancel")))]),r("v-spacer"),r("v-btn",{attrs:{color:"error",text:""},on:{click:function(t){return e.$emit("revoke")}}},[e._v(" "+e._s(e.$t("confirm"))+" ")])],1)],1)],1)]:[r("v-spacer"),r("v-btn",{attrs:{text:"",color:"info"},on:{click:function(t){return e.$emit("check-to-user")}}},[e._v(" "+e._s(e.$t("checkThisUser"))+" "),r("v-icon",{attrs:{right:""}},[e._v("mdi-arrow-right")])],1)]],2)],1)},u=[],l=(r("868d"),{props:{from:String,code:String,to:[Boolean,String],toUserInfo:Object},data:function(){return{dialog:!1}},created:function(){!0===this.to&&this.$emit("need-refresh"),"string"!==typeof this.to||this.toUserInfo||this.$emit("need-refresh-to")},computed:{unused:function(){return!1===this.to},status:function(){return"string"===typeof this.to?"used":this.to?"using":"unused"},toUserName:function(){var e;return null===(e=this.toUserInfo)||void 0===e?void 0:e.name}}}),v=l,f=(r("d178"),r("2be6")),p=r("16aa"),g=r.n(p),h=r("7265"),m=r("8467"),b=r("05d9"),k=r("3ee1"),_=r("29d0"),x=r("213b"),C=r("7b27"),w=Object(f["a"])(v,d,u,!1,null,"56ce24a9",null),$=w.exports;g()(w,{VBtn:h["a"],VCard:m["a"],VCardActions:b["a"],VCardSubtitle:b["b"],VCardText:b["c"],VCardTitle:b["d"],VDialog:k["a"],VDivider:_["a"],VIcon:x["a"],VSpacer:C["a"]});var U=c["a"].extend({components:{SignUpCodeDisplay:$},data:function(){return{SignUpCodeDisplay:$,addable:!0,dialog:!1}},methods:{revoke:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,n=e.code,r.next=4,s["a"].dispatch.signUpCode.revoke(n);case 4:t.$alertSuccess(t.$t("signUpCodeAction.revoke.success",{code:n})),r.next=10;break;case 7:r.prev=7,r.t0=r["catch"](0),t.$alertError(r.t0);case 10:case"end":return r.stop()}}),r,null,[[0,7]])})))()},share:function(e){this.$alertWarning("code share not implemented: "+e.code)},refresh:function(e){return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,s["a"].dispatch.signUpCode.get(e.code);case 2:case"end":return t.stop()}}),t)})))()},refreshTo:function(e){return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("string"!==typeof e.to){t.next=3;break}return t.next=3,s["a"].dispatch.user.queryUserInfo(e.to);case 3:case"end":return t.stop()}}),t)})))()},checkToUser:function(e){"string"===typeof e.to&&this.$router.push("user/"+e.to)},add:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.addable="loading",t.next=4,s["a"].dispatch.signUpCode.generate();case 4:return t.prev=4,e.addable=!0,e.dialog=!1,t.finish(4);case 8:case"end":return t.stop()}}),t,null,[[0,,4,8]])})))()}},computed:{myCodes:function(){var e=s["a"].getters.signUpCode.myCodes||[];return e.map((function(e){var t="string"===typeof e.to?s["a"].getters.user.getUserInfo(e.to):null;return Object(o["a"])(Object(o["a"])({},e),{},{toUserInfo:t})}))}},created:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s["a"].dispatch.signUpCode.queryMyCodes();case 3:t.next=8;break;case 5:t.prev=5,t.t0=t["catch"](0),e.$alertError(t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})))()}}),V=U,y=(r("2c8d"),r("8a29")),S=r("39d5"),j=r("91a2"),O=Object(f["a"])(V,n,a,!1,null,"68162344",null);t["default"]=O.exports;g()(O,{VBtn:h["a"],VCard:m["a"],VCardActions:b["a"],VCardText:b["c"],VCardTitle:b["d"],VCol:y["a"],VContainer:S["a"],VDialog:k["a"],VDivider:_["a"],VIcon:x["a"],VSlideXTransition:j["c"],VSpacer:C["a"]})},c8e7:function(e,t,r){},d178:function(e,t,r){"use strict";var n=r("2d96"),a=r.n(n);a.a}}]);